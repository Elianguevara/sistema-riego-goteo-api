[INFO] Scanning for projects...
[INFO] 
[INFO] ----------< com.sitemaderiegoagoteo:sistema-riego-goteo-api >-----------
[INFO] Building sistema-riego-goteo-api 0.0.1-SNAPSHOT
[INFO]   from pom.xml
[INFO] --------------------------------[ jar ]---------------------------------
[INFO] 
[INFO] --- resources:3.3.1:resources (default-resources) @ sistema-riego-goteo-api ---
[INFO] Copying 1 resource from src\main\resources to target\classes
[INFO] Copying 2 resources from src\main\resources to target\classes
[INFO] 
[INFO] --- compiler:3.13.0:compile (default-compile) @ sistema-riego-goteo-api ---
[INFO] Nothing to compile - all classes are up to date.
[INFO] 
[INFO] --- resources:3.3.1:testResources (default-testResources) @ sistema-riego-goteo-api ---
[INFO] Copying 1 resource from src\test\resources to target\test-classes
[INFO] 
[INFO] --- compiler:3.13.0:testCompile (default-testCompile) @ sistema-riego-goteo-api ---
[INFO] Nothing to compile - all classes are up to date.
[INFO] 
[INFO] --- surefire:3.5.4:test (default-test) @ sistema-riego-goteo-api ---
[INFO] Using auto detected provider org.apache.maven.surefire.junitplatform.JUnitPlatformProvider
[INFO] 
[INFO] -------------------------------------------------------
[INFO]  T E S T S
[INFO] -------------------------------------------------------
[INFO] Running AuthController - Tests de Capa Web
20:38:37.402 [main] INFO org.springframework.test.context.support.AnnotationConfigContextLoaderUtils -- Could not detect default configuration classes for test class [com.sistemariegoagoteo.sistema_riego_goteo_api.controller.auth.AuthControllerTest]: AuthControllerTest does not declare any static, non-private, non-final, nested classes annotated with @Configuration.
20:38:37.688 [main] INFO org.springframework.boot.test.context.SpringBootTestContextBootstrapper -- Found @SpringBootConfiguration com.sistemariegoagoteo.sistema_riego_goteo_api.SistemaRiegoGoteoApiApplication for test class com.sistemariegoagoteo.sistema_riego_goteo_api.controller.auth.AuthControllerTest
20:38:37.795 [main] INFO org.springframework.boot.devtools.restart.RestartApplicationListener -- Restart disabled due to context in which it is running

  .   ____          _            __ _ _
 /\\ / ___'_ __ _ _(_)_ __  __ _ \ \ \ \
( ( )\___ | '_ | '_| | '_ \/ _` | \ \ \ \
 \\/  ___)| |_)| | | | | || (_| |  ) ) ) )
  '  |____| .__|_| |_|_| |_\__, | / / / /
 =========|_|==============|___/=/_/_/_/

 :: Spring Boot ::               (v3.4.10)

2026-02-27T20:38:38.302-03:00  INFO 24960 --- [           main] c.s.s.c.auth.AuthControllerTest          : Starting AuthControllerTest using Java 20.0.2 with PID 24960 (started by elian in C:\Users\elian\OneDrive\Documentos\0-Tecnicatura Desarrollo de software\3-Tercer A?o Desarrollo De Software\Practica Profesionalizante 3\software\sistema-riego-goteo-api)
2026-02-27T20:38:38.304-03:00  INFO 24960 --- [           main] c.s.s.c.auth.AuthControllerTest          : The following 1 profile is active: "test"
2026-02-27T20:38:42.117-03:00  INFO 24960 --- [           main] r$InitializeUserDetailsManagerConfigurer : Global AuthenticationManager configured with UserDetailsService bean with name inMemoryUserDetailsManager
2026-02-27T20:38:42.309-03:00 DEBUG 24960 --- [           main] o.s.s.web.DefaultSecurityFilterChain     : Will secure any request with filters: DisableEncodeUrlFilter, WebAsyncManagerIntegrationFilter, SecurityContextHolderFilter, HeaderWriterFilter, CsrfFilter, LogoutFilter, UsernamePasswordAuthenticationFilter, DefaultResourcesFilter, DefaultLoginPageGeneratingFilter, DefaultLogoutPageGeneratingFilter, BasicAuthenticationFilter, RequestCacheAwareFilter, SecurityContextHolderAwareRequestFilter, AnonymousAuthenticationFilter, ExceptionTranslationFilter, AuthorizationFilter
2026-02-27T20:38:42.462-03:00  INFO 24960 --- [           main] c.s.s.c.auth.AuthControllerTest          : Started AuthControllerTest in 4.68 seconds (process running for 6.05)
2026-02-27T20:38:42.624-03:00 DEBUG 24960 --- [           main] w.c.HttpSessionSecurityContextRepository : Created HttpSession as SecurityContext is non-default
2026-02-27T20:38:42.624-03:00 DEBUG 24960 --- [           main] w.c.HttpSessionSecurityContextRepository : Stored SecurityContextImpl [Authentication=UsernamePasswordAuthenticationToken [Principal=org.springframework.security.core.userdetails.User [Username=user, Password=[PROTECTED], Enabled=true, AccountNonExpired=true, CredentialsNonExpired=true, AccountNonLocked=true, Granted Authorities=[ROLE_USER]], Credentials=[PROTECTED], Authenticated=true, Details=null, Granted Authorities=[ROLE_USER]]] to HttpSession [org.springframework.mock.web.MockHttpSession@22f80e36]
2026-02-27T20:38:42.649-03:00 DEBUG 24960 --- [           main] o.s.security.web.FilterChainProxy        : Securing POST /api/auth/login
2026-02-27T20:38:42.660-03:00 DEBUG 24960 --- [           main] w.c.HttpSessionSecurityContextRepository : Retrieved SecurityContextImpl [Authentication=UsernamePasswordAuthenticationToken [Principal=org.springframework.security.core.userdetails.User [Username=user, Password=[PROTECTED], Enabled=true, AccountNonExpired=true, CredentialsNonExpired=true, AccountNonLocked=true, Granted Authorities=[ROLE_USER]], Credentials=[PROTECTED], Authenticated=true, Details=null, Granted Authorities=[ROLE_USER]]]
2026-02-27T20:38:42.661-03:00 DEBUG 24960 --- [           main] o.s.security.web.FilterChainProxy        : Secured POST /api/auth/login
2026-02-27T20:38:42.986-03:00 DEBUG 24960 --- [           main] o.s.security.web.FilterChainProxy        : Securing POST /api/auth/login
2026-02-27T20:38:42.988-03:00 DEBUG 24960 --- [           main] o.s.s.w.a.AnonymousAuthenticationFilter  : Set SecurityContextHolder to anonymous SecurityContext
2026-02-27T20:38:42.993-03:00 DEBUG 24960 --- [           main] s.w.a.DelegatingAuthenticationEntryPoint : Trying to match using And [Not [RequestHeaderRequestMatcher [expectedHeaderName=X-Requested-With, expectedHeaderValue=XMLHttpRequest]], MediaTypeRequestMatcher [contentNegotiationStrategy=org.springframework.web.accept.ContentNegotiationManager@165d1d54, matchingMediaTypes=[application/xhtml+xml, image/*, text/html, text/plain], useEquals=false, ignoredMediaTypes=[*/*]]]
2026-02-27T20:38:42.993-03:00 DEBUG 24960 --- [           main] s.w.a.DelegatingAuthenticationEntryPoint : Trying to match using Or [RequestHeaderRequestMatcher [expectedHeaderName=X-Requested-With, expectedHeaderValue=XMLHttpRequest], And [Not [MediaTypeRequestMatcher [contentNegotiationStrategy=org.springframework.web.accept.ContentNegotiationManager@165d1d54, matchingMediaTypes=[text/html], useEquals=false, ignoredMediaTypes=[]]], MediaTypeRequestMatcher [contentNegotiationStrategy=org.springframework.web.accept.ContentNegotiationManager@165d1d54, matchingMediaTypes=[application/atom+xml, application/x-www-form-urlencoded, application/json, application/octet-stream, application/xml, multipart/form-data, text/xml], useEquals=false, ignoredMediaTypes=[*/*]]], MediaTypeRequestMatcher [contentNegotiationStrategy=org.springframework.web.accept.ContentNegotiationManager@165d1d54, matchingMediaTypes=[*/*], useEquals=true, ignoredMediaTypes=[]]]
2026-02-27T20:38:42.993-03:00 DEBUG 24960 --- [           main] s.w.a.DelegatingAuthenticationEntryPoint : Match found! Executing org.springframework.security.web.authentication.DelegatingAuthenticationEntryPoint@1c411474
2026-02-27T20:38:42.993-03:00 DEBUG 24960 --- [           main] s.w.a.DelegatingAuthenticationEntryPoint : Trying to match using RequestHeaderRequestMatcher [expectedHeaderName=X-Requested-With, expectedHeaderValue=XMLHttpRequest]
2026-02-27T20:38:42.993-03:00 DEBUG 24960 --- [           main] s.w.a.DelegatingAuthenticationEntryPoint : No match found. Using default entry point org.springframework.security.web.authentication.www.BasicAuthenticationEntryPoint@22172b00
2026-02-27T20:38:43.003-03:00 DEBUG 24960 --- [           main] w.c.HttpSessionSecurityContextRepository : Created HttpSession as SecurityContext is non-default
2026-02-27T20:38:43.003-03:00 DEBUG 24960 --- [           main] w.c.HttpSessionSecurityContextRepository : Stored SecurityContextImpl [Authentication=UsernamePasswordAuthenticationToken [Principal=org.springframework.security.core.userdetails.User [Username=user, Password=[PROTECTED], Enabled=true, AccountNonExpired=true, CredentialsNonExpired=true, AccountNonLocked=true, Granted Authorities=[ROLE_USER]], Credentials=[PROTECTED], Authenticated=true, Details=null, Granted Authorities=[ROLE_USER]]] to HttpSession [org.springframework.mock.web.MockHttpSession@320ba79f]
2026-02-27T20:38:43.005-03:00 DEBUG 24960 --- [           main] o.s.security.web.FilterChainProxy        : Securing POST /api/auth/login
2026-02-27T20:38:43.005-03:00 DEBUG 24960 --- [           main] w.c.HttpSessionSecurityContextRepository : Retrieved SecurityContextImpl [Authentication=UsernamePasswordAuthenticationToken [Principal=org.springframework.security.core.userdetails.User [Username=user, Password=[PROTECTED], Enabled=true, AccountNonExpired=true, CredentialsNonExpired=true, AccountNonLocked=true, Granted Authorities=[ROLE_USER]], Credentials=[PROTECTED], Authenticated=true, Details=null, Granted Authorities=[ROLE_USER]]]
2026-02-27T20:38:43.005-03:00 DEBUG 24960 --- [           main] o.s.security.web.FilterChainProxy        : Secured POST /api/auth/login
2026-02-27T20:38:43.047-03:00 DEBUG 24960 --- [           main] w.c.HttpSessionSecurityContextRepository : Created HttpSession as SecurityContext is non-default
2026-02-27T20:38:43.047-03:00 DEBUG 24960 --- [           main] w.c.HttpSessionSecurityContextRepository : Stored SecurityContextImpl [Authentication=UsernamePasswordAuthenticationToken [Principal=org.springframework.security.core.userdetails.User [Username=user, Password=[PROTECTED], Enabled=true, AccountNonExpired=true, CredentialsNonExpired=true, AccountNonLocked=true, Granted Authorities=[ROLE_USER]], Credentials=[PROTECTED], Authenticated=true, Details=null, Granted Authorities=[ROLE_USER]]] to HttpSession [org.springframework.mock.web.MockHttpSession@1bbef3c7]
2026-02-27T20:38:43.049-03:00 DEBUG 24960 --- [           main] o.s.security.web.FilterChainProxy        : Securing POST /api/auth/register/admin
2026-02-27T20:38:43.050-03:00 DEBUG 24960 --- [           main] w.c.HttpSessionSecurityContextRepository : Retrieved SecurityContextImpl [Authentication=UsernamePasswordAuthenticationToken [Principal=org.springframework.security.core.userdetails.User [Username=user, Password=[PROTECTED], Enabled=true, AccountNonExpired=true, CredentialsNonExpired=true, AccountNonLocked=true, Granted Authorities=[ROLE_USER]], Credentials=[PROTECTED], Authenticated=true, Details=null, Granted Authorities=[ROLE_USER]]]
2026-02-27T20:38:43.050-03:00 DEBUG 24960 --- [           main] o.s.security.web.FilterChainProxy        : Secured POST /api/auth/register/admin
2026-02-27T20:38:43.076-03:00  INFO 24960 --- [           main] c.s.s.controller.auth.AuthController     : Administrador registrado exitosamente con username: nuevo_admin
[INFO] Tests run: 4, Failures: 0, Errors: 0, Skipped: 0, Time elapsed: 5.880 s -- in AuthController - Tests de Capa Web
[INFO] Running FarmController - Tests de Capa Web

  .   ____          _            __ _ _
 /\\ / ___'_ __ _ _(_)_ __  __ _ \ \ \ \
( ( )\___ | '_ | '_| | '_ \/ _` | \ \ \ \
 \\/  ___)| |_)| | | | | || (_| |  ) ) ) )
  '  |____| .__|_| |_|_| |_\__, | / / / /
 =========|_|==============|___/=/_/_/_/

 :: Spring Boot ::               (v3.4.10)

2026-02-27T20:38:43.313-03:00  INFO 24960 --- [           main] c.s.s.c.riego.FarmControllerTest         : Starting FarmControllerTest using Java 20.0.2 with PID 24960 (started by elian in C:\Users\elian\OneDrive\Documentos\0-Tecnicatura Desarrollo de software\3-Tercer A?o Desarrollo De Software\Practica Profesionalizante 3\software\sistema-riego-goteo-api)
2026-02-27T20:38:43.314-03:00  INFO 24960 --- [           main] c.s.s.c.riego.FarmControllerTest         : The following 1 profile is active: "test"
2026-02-27T20:38:43.982-03:00  INFO 24960 --- [           main] r$InitializeUserDetailsManagerConfigurer : Global AuthenticationManager configured with UserDetailsService bean with name inMemoryUserDetailsManager
2026-02-27T20:38:44.012-03:00 DEBUG 24960 --- [           main] o.s.s.web.DefaultSecurityFilterChain     : Will secure any request with filters: DisableEncodeUrlFilter, WebAsyncManagerIntegrationFilter, SecurityContextHolderFilter, HeaderWriterFilter, CsrfFilter, LogoutFilter, UsernamePasswordAuthenticationFilter, DefaultResourcesFilter, DefaultLoginPageGeneratingFilter, DefaultLogoutPageGeneratingFilter, BasicAuthenticationFilter, RequestCacheAwareFilter, SecurityContextHolderAwareRequestFilter, AnonymousAuthenticationFilter, ExceptionTranslationFilter, AuthorizationFilter
2026-02-27T20:38:44.031-03:00  INFO 24960 --- [           main] c.s.s.c.riego.FarmControllerTest         : Started FarmControllerTest in 0.766 seconds (process running for 7.619)
2026-02-27T20:38:44.042-03:00 DEBUG 24960 --- [           main] w.c.HttpSessionSecurityContextRepository : Created HttpSession as SecurityContext is non-default
2026-02-27T20:38:44.042-03:00 DEBUG 24960 --- [           main] w.c.HttpSessionSecurityContextRepository : Stored SecurityContextImpl [Authentication=UsernamePasswordAuthenticationToken [Principal=org.springframework.security.core.userdetails.User [Username=admin, Password=[PROTECTED], Enabled=true, AccountNonExpired=true, CredentialsNonExpired=true, AccountNonLocked=true, Granted Authorities=[ROLE_ADMIN]], Credentials=[PROTECTED], Authenticated=true, Details=null, Granted Authorities=[ROLE_ADMIN]]] to HttpSession [org.springframework.mock.web.MockHttpSession@123e9094]
2026-02-27T20:38:44.042-03:00 DEBUG 24960 --- [           main] o.s.security.web.FilterChainProxy        : Securing GET /api/farms
2026-02-27T20:38:44.043-03:00 DEBUG 24960 --- [           main] w.c.HttpSessionSecurityContextRepository : Retrieved SecurityContextImpl [Authentication=UsernamePasswordAuthenticationToken [Principal=org.springframework.security.core.userdetails.User [Username=admin, Password=[PROTECTED], Enabled=true, AccountNonExpired=true, CredentialsNonExpired=true, AccountNonLocked=true, Granted Authorities=[ROLE_ADMIN]], Credentials=[PROTECTED], Authenticated=true, Details=null, Granted Authorities=[ROLE_ADMIN]]]
2026-02-27T20:38:44.043-03:00 DEBUG 24960 --- [           main] o.s.security.web.FilterChainProxy        : Secured GET /api/farms
2026-02-27T20:38:44.045-03:00  INFO 24960 --- [           main] c.s.s.controller.riego.FarmController    : Solicitud GET para obtener fincas
2026-02-27T20:38:44.072-03:00 DEBUG 24960 --- [           main] w.c.HttpSessionSecurityContextRepository : Created HttpSession as SecurityContext is non-default
2026-02-27T20:38:44.072-03:00 DEBUG 24960 --- [           main] w.c.HttpSessionSecurityContextRepository : Stored SecurityContextImpl [Authentication=UsernamePasswordAuthenticationToken [Principal=org.springframework.security.core.userdetails.User [Username=admin, Password=[PROTECTED], Enabled=true, AccountNonExpired=true, CredentialsNonExpired=true, AccountNonLocked=true, Granted Authorities=[ROLE_ADMIN]], Credentials=[PROTECTED], Authenticated=true, Details=null, Granted Authorities=[ROLE_ADMIN]]] to HttpSession [org.springframework.mock.web.MockHttpSession@4889fbba]
2026-02-27T20:38:44.073-03:00 DEBUG 24960 --- [           main] o.s.security.web.FilterChainProxy        : Securing GET /api/farms/1
2026-02-27T20:38:44.073-03:00 DEBUG 24960 --- [           main] w.c.HttpSessionSecurityContextRepository : Retrieved SecurityContextImpl [Authentication=UsernamePasswordAuthenticationToken [Principal=org.springframework.security.core.userdetails.User [Username=admin, Password=[PROTECTED], Enabled=true, AccountNonExpired=true, CredentialsNonExpired=true, AccountNonLocked=true, Granted Authorities=[ROLE_ADMIN]], Credentials=[PROTECTED], Authenticated=true, Details=null, Granted Authorities=[ROLE_ADMIN]]]
2026-02-27T20:38:44.073-03:00 DEBUG 24960 --- [           main] o.s.security.web.FilterChainProxy        : Secured GET /api/farms/1
2026-02-27T20:38:44.074-03:00  INFO 24960 --- [           main] c.s.s.controller.riego.FarmController    : Solicitud GET para obtener finca con ID: 1
2026-02-27T20:38:44.089-03:00 DEBUG 24960 --- [           main] w.c.HttpSessionSecurityContextRepository : Created HttpSession as SecurityContext is non-default
2026-02-27T20:38:44.089-03:00 DEBUG 24960 --- [           main] w.c.HttpSessionSecurityContextRepository : Stored SecurityContextImpl [Authentication=UsernamePasswordAuthenticationToken [Principal=org.springframework.security.core.userdetails.User [Username=admin, Password=[PROTECTED], Enabled=true, AccountNonExpired=true, CredentialsNonExpired=true, AccountNonLocked=true, Granted Authorities=[ROLE_ADMIN]], Credentials=[PROTECTED], Authenticated=true, Details=null, Granted Authorities=[ROLE_ADMIN]]] to HttpSession [org.springframework.mock.web.MockHttpSession@6ec77cab]
2026-02-27T20:38:44.091-03:00 DEBUG 24960 --- [           main] o.s.security.web.FilterChainProxy        : Securing DELETE /api/farms/1
2026-02-27T20:38:44.091-03:00 DEBUG 24960 --- [           main] w.c.HttpSessionSecurityContextRepository : Retrieved SecurityContextImpl [Authentication=UsernamePasswordAuthenticationToken [Principal=org.springframework.security.core.userdetails.User [Username=admin, Password=[PROTECTED], Enabled=true, AccountNonExpired=true, CredentialsNonExpired=true, AccountNonLocked=true, Granted Authorities=[ROLE_ADMIN]], Credentials=[PROTECTED], Authenticated=true, Details=null, Granted Authorities=[ROLE_ADMIN]]]
2026-02-27T20:38:44.091-03:00 DEBUG 24960 --- [           main] o.s.security.web.FilterChainProxy        : Secured DELETE /api/farms/1
2026-02-27T20:38:44.093-03:00  INFO 24960 --- [           main] c.s.s.controller.riego.FarmController    : Solicitud DELETE para eliminar finca con ID: 1
2026-02-27T20:38:44.110-03:00 DEBUG 24960 --- [           main] w.c.HttpSessionSecurityContextRepository : Created HttpSession as SecurityContext is non-default
2026-02-27T20:38:44.110-03:00 DEBUG 24960 --- [           main] w.c.HttpSessionSecurityContextRepository : Stored SecurityContextImpl [Authentication=UsernamePasswordAuthenticationToken [Principal=org.springframework.security.core.userdetails.User [Username=operario, Password=[PROTECTED], Enabled=true, AccountNonExpired=true, CredentialsNonExpired=true, AccountNonLocked=true, Granted Authorities=[ROLE_OPERARIO]], Credentials=[PROTECTED], Authenticated=true, Details=null, Granted Authorities=[ROLE_OPERARIO]]] to HttpSession [org.springframework.mock.web.MockHttpSession@7ab2e018]
2026-02-27T20:38:44.111-03:00 DEBUG 24960 --- [           main] o.s.security.web.FilterChainProxy        : Securing POST /api/farms
2026-02-27T20:38:44.111-03:00 DEBUG 24960 --- [           main] w.c.HttpSessionSecurityContextRepository : Retrieved SecurityContextImpl [Authentication=UsernamePasswordAuthenticationToken [Principal=org.springframework.security.core.userdetails.User [Username=operario, Password=[PROTECTED], Enabled=true, AccountNonExpired=true, CredentialsNonExpired=true, AccountNonLocked=true, Granted Authorities=[ROLE_OPERARIO]], Credentials=[PROTECTED], Authenticated=true, Details=null, Granted Authorities=[ROLE_OPERARIO]]]
2026-02-27T20:38:44.111-03:00 DEBUG 24960 --- [           main] o.s.security.web.FilterChainProxy        : Secured POST /api/farms
2026-02-27T20:38:44.126-03:00  INFO 24960 --- [           main] c.s.s.controller.riego.FarmController    : Solicitud POST para crear finca: Finca Test
2026-02-27T20:38:44.139-03:00 DEBUG 24960 --- [           main] o.s.security.web.FilterChainProxy        : Securing GET /api/farms
2026-02-27T20:38:44.139-03:00 DEBUG 24960 --- [           main] o.s.s.w.a.AnonymousAuthenticationFilter  : Set SecurityContextHolder to anonymous SecurityContext
2026-02-27T20:38:44.142-03:00 DEBUG 24960 --- [           main] o.s.s.w.s.HttpSessionRequestCache        : Saved request http://localhost/api/farms?continue to session
2026-02-27T20:38:44.142-03:00 DEBUG 24960 --- [           main] s.w.a.DelegatingAuthenticationEntryPoint : Trying to match using And [Not [RequestHeaderRequestMatcher [expectedHeaderName=X-Requested-With, expectedHeaderValue=XMLHttpRequest]], MediaTypeRequestMatcher [contentNegotiationStrategy=org.springframework.web.accept.ContentNegotiationManager@4a10c019, matchingMediaTypes=[application/xhtml+xml, image/*, text/html, text/plain], useEquals=false, ignoredMediaTypes=[*/*]]]
2026-02-27T20:38:44.143-03:00 DEBUG 24960 --- [           main] s.w.a.DelegatingAuthenticationEntryPoint : Trying to match using Or [RequestHeaderRequestMatcher [expectedHeaderName=X-Requested-With, expectedHeaderValue=XMLHttpRequest], And [Not [MediaTypeRequestMatcher [contentNegotiationStrategy=org.springframework.web.accept.ContentNegotiationManager@4a10c019, matchingMediaTypes=[text/html], useEquals=false, ignoredMediaTypes=[]]], MediaTypeRequestMatcher [contentNegotiationStrategy=org.springframework.web.accept.ContentNegotiationManager@4a10c019, matchingMediaTypes=[application/atom+xml, application/x-www-form-urlencoded, application/json, application/octet-stream, application/xml, multipart/form-data, text/xml], useEquals=false, ignoredMediaTypes=[*/*]]], MediaTypeRequestMatcher [contentNegotiationStrategy=org.springframework.web.accept.ContentNegotiationManager@4a10c019, matchingMediaTypes=[*/*], useEquals=true, ignoredMediaTypes=[]]]
2026-02-27T20:38:44.143-03:00 DEBUG 24960 --- [           main] s.w.a.DelegatingAuthenticationEntryPoint : Match found! Executing org.springframework.security.web.authentication.DelegatingAuthenticationEntryPoint@56226064
2026-02-27T20:38:44.143-03:00 DEBUG 24960 --- [           main] s.w.a.DelegatingAuthenticationEntryPoint : Trying to match using RequestHeaderRequestMatcher [expectedHeaderName=X-Requested-With, expectedHeaderValue=XMLHttpRequest]
2026-02-27T20:38:44.143-03:00 DEBUG 24960 --- [           main] s.w.a.DelegatingAuthenticationEntryPoint : No match found. Using default entry point org.springframework.security.web.authentication.www.BasicAuthenticationEntryPoint@6097f225
2026-02-27T20:38:44.152-03:00 DEBUG 24960 --- [           main] w.c.HttpSessionSecurityContextRepository : Created HttpSession as SecurityContext is non-default
2026-02-27T20:38:44.152-03:00 DEBUG 24960 --- [           main] w.c.HttpSessionSecurityContextRepository : Stored SecurityContextImpl [Authentication=UsernamePasswordAuthenticationToken [Principal=org.springframework.security.core.userdetails.User [Username=admin, Password=[PROTECTED], Enabled=true, AccountNonExpired=true, CredentialsNonExpired=true, AccountNonLocked=true, Granted Authorities=[ROLE_ADMIN]], Credentials=[PROTECTED], Authenticated=true, Details=null, Granted Authorities=[ROLE_ADMIN]]] to HttpSession [org.springframework.mock.web.MockHttpSession@79982bcc]
2026-02-27T20:38:44.153-03:00 DEBUG 24960 --- [           main] o.s.security.web.FilterChainProxy        : Securing POST /api/farms
2026-02-27T20:38:44.153-03:00 DEBUG 24960 --- [           main] w.c.HttpSessionSecurityContextRepository : Retrieved SecurityContextImpl [Authentication=UsernamePasswordAuthenticationToken [Principal=org.springframework.security.core.userdetails.User [Username=admin, Password=[PROTECTED], Enabled=true, AccountNonExpired=true, CredentialsNonExpired=true, AccountNonLocked=true, Granted Authorities=[ROLE_ADMIN]], Credentials=[PROTECTED], Authenticated=true, Details=null, Granted Authorities=[ROLE_ADMIN]]]
2026-02-27T20:38:44.153-03:00 DEBUG 24960 --- [           main] o.s.security.web.FilterChainProxy        : Secured POST /api/farms
2026-02-27T20:38:44.155-03:00  INFO 24960 --- [           main] c.s.s.controller.riego.FarmController    : Solicitud POST para crear finca: Finca Test
[INFO] Tests run: 6, Failures: 0, Errors: 0, Skipped: 0, Time elapsed: 1.056 s -- in FarmController - Tests de Capa Web
[INFO] Running NotificationController - Tests de Capa Web

  .   ____          _            __ _ _
 /\\ / ___'_ __ _ _(_)_ __  __ _ \ \ \ \
( ( )\___ | '_ | '_| | '_ \/ _` | \ \ \ \
 \\/  ___)| |_)| | | | | || (_| |  ) ) ) )
  '  |____| .__|_| |_|_| |_\__, | / / / /
 =========|_|==============|___/=/_/_/_/

 :: Spring Boot ::               (v3.4.10)

2026-02-27T20:38:44.344-03:00  INFO 24960 --- [           main] c.s.s.c.user.NotificationControllerTest  : Starting NotificationControllerTest using Java 20.0.2 with PID 24960 (started by elian in C:\Users\elian\OneDrive\Documentos\0-Tecnicatura Desarrollo de software\3-Tercer A?o Desarrollo De Software\Practica Profesionalizante 3\software\sistema-riego-goteo-api)
2026-02-27T20:38:44.345-03:00  INFO 24960 --- [           main] c.s.s.c.user.NotificationControllerTest  : The following 1 profile is active: "test"
2026-02-27T20:38:44.941-03:00  INFO 24960 --- [           main] r$InitializeUserDetailsManagerConfigurer : Global AuthenticationManager configured with UserDetailsService bean with name inMemoryUserDetailsManager
2026-02-27T20:38:44.952-03:00 DEBUG 24960 --- [           main] o.s.s.web.DefaultSecurityFilterChain     : Will secure any request with filters: DisableEncodeUrlFilter, WebAsyncManagerIntegrationFilter, SecurityContextHolderFilter, HeaderWriterFilter, CsrfFilter, LogoutFilter, UsernamePasswordAuthenticationFilter, DefaultResourcesFilter, DefaultLoginPageGeneratingFilter, DefaultLogoutPageGeneratingFilter, BasicAuthenticationFilter, RequestCacheAwareFilter, SecurityContextHolderAwareRequestFilter, AnonymousAuthenticationFilter, ExceptionTranslationFilter, AuthorizationFilter
2026-02-27T20:38:44.967-03:00  INFO 24960 --- [           main] c.s.s.c.user.NotificationControllerTest  : Started NotificationControllerTest in 0.669 seconds (process running for 8.555)
2026-02-27T20:38:44.977-03:00 DEBUG 24960 --- [           main] w.c.HttpSessionSecurityContextRepository : Created HttpSession as SecurityContext is non-default
2026-02-27T20:38:44.977-03:00 DEBUG 24960 --- [           main] w.c.HttpSessionSecurityContextRepository : Stored SecurityContextImpl [Authentication=UsernamePasswordAuthenticationToken [Principal=com.sistemariegoagoteo.sistema_riego_goteo_api.model.user.User@37e28b20, Credentials=[PROTECTED], Authenticated=true, Details=null, Granted Authorities=[]]] to HttpSession [org.springframework.mock.web.MockHttpSession@31428f76]
2026-02-27T20:38:44.985-03:00 DEBUG 24960 --- [           main] w.c.HttpSessionSecurityContextRepository : Created HttpSession as SecurityContext is non-default
2026-02-27T20:38:44.985-03:00 DEBUG 24960 --- [           main] w.c.HttpSessionSecurityContextRepository : Stored SecurityContextImpl [Authentication=UsernamePasswordAuthenticationToken [Principal=com.sistemariegoagoteo.sistema_riego_goteo_api.model.user.User@50bc0bbd, Credentials=[PROTECTED], Authenticated=true, Details=null, Granted Authorities=[]]] to HttpSession [org.springframework.mock.web.MockHttpSession@6956081d]
2026-02-27T20:38:45.009-03:00 DEBUG 24960 --- [           main] w.c.HttpSessionSecurityContextRepository : Created HttpSession as SecurityContext is non-default
2026-02-27T20:38:45.010-03:00 DEBUG 24960 --- [           main] w.c.HttpSessionSecurityContextRepository : Stored SecurityContextImpl [Authentication=UsernamePasswordAuthenticationToken [Principal=com.sistemariegoagoteo.sistema_riego_goteo_api.model.user.User@5a2297d7, Credentials=[PROTECTED], Authenticated=true, Details=null, Granted Authorities=[]]] to HttpSession [org.springframework.mock.web.MockHttpSession@52e34db]
2026-02-27T20:38:45.021-03:00  WARN 24960 --- [           main] ration$PageModule$WarningLoggingModifier : Serializing PageImpl instances as-is is not supported, meaning that there is no guarantee about the stability of the resulting JSON structure!
	For a stable JSON structure, please use Spring Data's PagedModel (globally via @EnableSpringDataWebSupport(pageSerializationMode = VIA_DTO))
	or Spring HATEOAS and Spring Data's PagedResourcesAssembler as documented in https://docs.spring.io/spring-data/commons/reference/repositories/core-extensions.html#core.web.pageables.

[INFO] Tests run: 3, Failures: 0, Errors: 0, Skipped: 0, Time elapsed: 0.878 s -- in NotificationController - Tests de Capa Web
[INFO] Running com.sistemariegoagoteo.sistema_riego_goteo_api.service.analytics.AnalyticsServiceTest
[INFO] Tests run: 3, Failures: 0, Errors: 0, Skipped: 0, Time elapsed: 0.360 s -- in com.sistemariegoagoteo.sistema_riego_goteo_api.service.analytics.AnalyticsServiceTest
[INFO] Running AuthService - Tests Unitarios
2026-02-27T20:38:45.671-03:00  INFO 24960 --- [           main] c.s.s.service.auth.AuthService           : Intentando registrar al usuario ADMIN: admin_test
2026-02-27T20:38:45.672-03:00  WARN 24960 --- [           main] c.s.s.service.auth.AuthService           : Intento de registro con username existente: admin_test
2026-02-27T20:38:45.701-03:00  INFO 24960 --- [           main] c.s.s.service.auth.AuthService           : Intentando registrar al usuario ADMIN: nuevo_admin
2026-02-27T20:38:45.702-03:00 ERROR 24960 --- [           main] c.s.s.service.auth.AuthService           : El rol ADMIN no existe en la base de datos. Debe ser creado primero.
2026-02-27T20:38:45.706-03:00  INFO 24960 --- [           main] c.s.s.service.auth.AuthService           : Intentando registrar al usuario ADMIN: nuevo_admin
2026-02-27T20:38:45.707-03:00  INFO 24960 --- [           main] c.s.s.service.auth.AuthService           : Usuario ADMIN registrado exitosamente con ID: null
2026-02-27T20:38:45.764-03:00  INFO 24960 --- [           main] c.s.s.service.auth.AuthService           : Intentando autenticar al usuario: admin_test
2026-02-27T20:38:45.764-03:00  WARN 24960 --- [           main] c.s.s.service.auth.AuthService           : Intento de login de usuario inactivo: admin_test
2026-02-27T20:38:45.764-03:00 ERROR 24960 --- [           main] c.s.s.service.auth.AuthService           : Error durante la autenticaci?n para admin_test: La cuenta del usuario est? inactiva.
2026-02-27T20:38:45.770-03:00  INFO 24960 --- [           main] c.s.s.service.auth.AuthService           : Intentando autenticar al usuario: admin_test
2026-02-27T20:38:45.772-03:00  WARN 24960 --- [           main] c.s.s.service.auth.AuthService           : Credenciales inv?lidas para el usuario: admin_test
2026-02-27T20:38:45.777-03:00  INFO 24960 --- [           main] c.s.s.service.auth.AuthService           : Intentando registrar al usuario ADMIN: nuevo_admin
2026-02-27T20:38:45.777-03:00  WARN 24960 --- [           main] c.s.s.service.auth.AuthService           : Intento de registro con email existente: admin@test.com
2026-02-27T20:38:45.783-03:00  INFO 24960 --- [           main] c.s.s.service.auth.AuthService           : Intentando autenticar al usuario: admin_test
2026-02-27T20:38:45.783-03:00  INFO 24960 --- [           main] c.s.s.service.auth.AuthService           : Usuario autenticado exitosamente: admin_test
2026-02-27T20:38:45.797-03:00  INFO 24960 --- [           main] c.s.s.service.auth.AuthService           : Intentando registrar al usuario ADMIN: operario1
[INFO] Tests run: 8, Failures: 0, Errors: 0, Skipped: 0, Time elapsed: 0.378 s -- in AuthService - Tests Unitarios
[INFO] Running com.sistemariegoagoteo.sistema_riego_goteo_api.service.auth.JpaUserDetailsServiceTest
[INFO] Tests run: 3, Failures: 0, Errors: 0, Skipped: 0, Time elapsed: 0.019 s -- in com.sistemariegoagoteo.sistema_riego_goteo_api.service.auth.JpaUserDetailsServiceTest
[INFO] Running JwtService - Tests Unitarios
[INFO] Tests run: 5, Failures: 0, Errors: 0, Skipped: 0, Time elapsed: 0.181 s -- in JwtService - Tests Unitarios
[INFO] Running com.sistemariegoagoteo.sistema_riego_goteo_api.service.auth.UserServiceTest
2026-02-27T20:38:46.162-03:00  INFO 24960 --- [           main] c.s.s.service.auth.UserService           : Usuario username intentando actualizar su propia contrase?a.
2026-02-27T20:38:46.167-03:00  INFO 24960 --- [           main] c.s.s.service.auth.UserService           : Generando estad?sticas de usuarios para el dashboard de administrador.
2026-02-27T20:38:46.173-03:00  INFO 24960 --- [           main] c.s.s.service.auth.UserService           : Admin admin intentando registrar usuario: admin con rol: OPERARIO
2026-02-27T20:38:46.179-03:00  INFO 24960 --- [           main] c.s.s.service.auth.UserService           : Usuario testuser intentando actualizar su propia contrase?a.
2026-02-27T20:38:46.180-03:00  INFO 24960 --- [           main] c.s.s.service.auth.UserService           : Contrase?a del usuario testuser actualizada exitosamente.
2026-02-27T20:38:46.184-03:00  INFO 24960 --- [           main] c.s.s.service.auth.UserService           : Admin admin intentando asignar usuario ID 2 a finca ID 1
2026-02-27T20:38:46.186-03:00  INFO 24960 --- [           main] c.s.s.service.auth.UserService           : Usuario ID 2 asignado exitosamente a la finca ID 1
2026-02-27T20:38:46.192-03:00  INFO 24960 --- [           main] c.s.s.service.auth.UserService           : Admin admin intentando cambiar estado activo a false para usuario con ID: 2
2026-02-27T20:38:46.193-03:00  INFO 24960 --- [           main] c.s.s.service.auth.UserService           : Estado activo del usuario con ID: 2 cambiado a false exitosamente por admin.
2026-02-27T20:38:46.199-03:00  WARN 24960 --- [           main] c.s.s.service.auth.UserService           : Admin admin intentando ELIMINAR PERMANENTEMENTE usuario con ID: 2
2026-02-27T20:38:46.200-03:00  INFO 24960 --- [           main] c.s.s.service.auth.UserService           : Usuario con ID: 2 eliminado permanentemente por admin.
2026-02-27T20:38:46.205-03:00  INFO 24960 --- [           main] c.s.s.service.auth.UserService           : Admin admin intentando actualizar usuario con ID: 2
2026-02-27T20:38:46.206-03:00  INFO 24960 --- [           main] c.s.s.service.auth.UserService           : Usuario con ID: 2 actualizado exitosamente por admin.
2026-02-27T20:38:46.211-03:00  INFO 24960 --- [           main] c.s.s.service.auth.UserService           : Admin admin intentando registrar usuario: nuevoUser con rol: OPERARIO
2026-02-27T20:38:46.211-03:00  INFO 24960 --- [           main] c.s.s.service.auth.UserService           : Usuario OPERARIO registrado exitosamente por admin con ID: 2
2026-02-27T20:38:46.219-03:00  INFO 24960 --- [           main] c.s.s.service.auth.UserService           : Admin admin intentando registrar usuario: null con rol: INVALID_ROLE
[INFO] Tests run: 10, Failures: 0, Errors: 0, Skipped: 0, Time elapsed: 0.211 s -- in com.sistemariegoagoteo.sistema_riego_goteo_api.service.auth.UserServiceTest
[INFO] Running com.sistemariegoagoteo.sistema_riego_goteo_api.service.dashboard.AnalystDashboardServiceTest
[INFO] Tests run: 3, Failures: 0, Errors: 0, Skipped: 0, Time elapsed: 0.217 s -- in com.sistemariegoagoteo.sistema_riego_goteo_api.service.dashboard.AnalystDashboardServiceTest
[INFO] Running com.sistemariegoagoteo.sistema_riego_goteo_api.service.dashboard.DashboardServiceTest
[INFO] Tests run: 1, Failures: 0, Errors: 0, Skipped: 0, Time elapsed: 0.093 s -- in com.sistemariegoagoteo.sistema_riego_goteo_api.service.dashboard.DashboardServiceTest
[INFO] Running NotificationService - Tests Unitarios
[INFO] Tests run: 6, Failures: 0, Errors: 0, Skipped: 0, Time elapsed: 0.119 s -- in NotificationService - Tests Unitarios
[INFO] Running com.sistemariegoagoteo.sistema_riego_goteo_api.service.report.ReportDataServiceTest
[INFO] Tests run: 3, Failures: 0, Errors: 0, Skipped: 0, Time elapsed: 0.243 s -- in com.sistemariegoagoteo.sistema_riego_goteo_api.service.report.ReportDataServiceTest
[INFO] Running FarmService - Tests Unitarios
2026-02-27T20:38:47.014-03:00  INFO 24960 --- [           main] c.s.s.service.riego.FarmService          : No se proveyeron coordenadas para la finca 'Finca La Esperanza'. Intentando geocodificar...
[INFO] Tests run: 7, Failures: 0, Errors: 0, Skipped: 0, Time elapsed: 0.108 s -- in FarmService - Tests Unitarios
[INFO] Running com.sistemariegoagoteo.sistema_riego_goteo_api.service.riego.FertilizationServiceTest
2026-02-27T20:38:47.035-03:00  INFO 24960 --- [           main] c.s.s.s.riego.FertilizationService       : Usuario admin registr? fertilizaci?n (ID: 2) en sector Sector 1
2026-02-27T20:38:47.059-03:00  INFO 24960 --- [           main] c.s.s.s.riego.FertilizationService       : Actualizando fertilizaci?n ID 1
2026-02-27T20:38:47.064-03:00  WARN 24960 --- [           main] c.s.s.s.riego.FertilizationService       : Eliminando fertilizaci?n ID 1
[ERROR] Tests run: 3, Failures: 3, Errors: 0, Skipped: 0, Time elapsed: 0.040 s <<< FAILURE! -- in com.sistemariegoagoteo.sistema_riego_goteo_api.service.riego.FertilizationServiceTest
[ERROR] com.sistemariegoagoteo.sistema_riego_goteo_api.service.riego.FertilizationServiceTest.createFertilization_Success -- Time elapsed: 0.025 s <<< FAILURE!
Argument(s) are different! Wanted:
auditService.logChange(
    com.sistemariegoagoteo.sistema_riego_goteo_api.model.user.User@72f86029,
    "CREATE",
    "Fertilization",
    "id",
    isNull(),
    "2"
);
-> at com.sistemariegoagoteo.sistema_riego_goteo_api.service.audit.AuditService.logChange(AuditService.java:46)
Actual invocations have different arguments at position [0]:
auditService.logChange(
    com.sistemariegoagoteo.sistema_riego_goteo_api.model.user.User@39000894,
    "CREATE",
    "Fertilization",
    "id",
    null,
    "2"
);
-> at com.sistemariegoagoteo.sistema_riego_goteo_api.service.riego.FertilizationService.createFertilization(FertilizationService.java:46)

	at com.sistemariegoagoteo.sistema_riego_goteo_api.service.audit.AuditService.logChange(AuditService.java:46)
	at com.sistemariegoagoteo.sistema_riego_goteo_api.service.riego.FertilizationServiceTest.createFertilization_Success(FertilizationServiceTest.java:92)
	at java.base/java.lang.reflect.Method.invoke(Method.java:578)
	at java.base/java.util.ArrayList.forEach(ArrayList.java:1511)
	at java.base/java.util.ArrayList.forEach(ArrayList.java:1511)

[ERROR] com.sistemariegoagoteo.sistema_riego_goteo_api.service.riego.FertilizationServiceTest.updateFertilization_Success -- Time elapsed: 0.004 s <<< FAILURE!
Argument(s) are different! Wanted:
auditService.logChange(
    com.sistemariegoagoteo.sistema_riego_goteo_api.model.user.User@5a85f41b,
    "UPDATE",
    "Fertilization",
    <any string>,
    <any string>,
    <any string>
);
-> at com.sistemariegoagoteo.sistema_riego_goteo_api.service.audit.AuditService.logChange(AuditService.java:46)
Actual invocations have different arguments at position [0]:
auditService.logChange(
    com.sistemariegoagoteo.sistema_riego_goteo_api.model.user.User@39000894,
    "UPDATE",
    "Fertilization",
    "quantity",
    "50.0",
    "60.0"
);
-> at com.sistemariegoagoteo.sistema_riego_goteo_api.service.riego.FertilizationService.updateFertilization(FertilizationService.java:67)

	at com.sistemariegoagoteo.sistema_riego_goteo_api.service.audit.AuditService.logChange(AuditService.java:46)
	at com.sistemariegoagoteo.sistema_riego_goteo_api.service.riego.FertilizationServiceTest.updateFertilization_Success(FertilizationServiceTest.java:109)
	at java.base/java.lang.reflect.Method.invoke(Method.java:578)
	at java.base/java.util.ArrayList.forEach(ArrayList.java:1511)
	at java.base/java.util.ArrayList.forEach(ArrayList.java:1511)

[ERROR] com.sistemariegoagoteo.sistema_riego_goteo_api.service.riego.FertilizationServiceTest.deleteFertilization_Success -- Time elapsed: 0.005 s <<< FAILURE!
Argument(s) are different! Wanted:
auditService.logChange(
    com.sistemariegoagoteo.sistema_riego_goteo_api.model.user.User@124b1369,
    "DELETE",
    "Fertilization",
    "id",
    "1",
    isNull()
);
-> at com.sistemariegoagoteo.sistema_riego_goteo_api.service.audit.AuditService.logChange(AuditService.java:46)
Actual invocations have different arguments at position [0]:
auditService.logChange(
    com.sistemariegoagoteo.sistema_riego_goteo_api.model.user.User@39000894,
    "DELETE",
    "Fertilization",
    "id",
    "1",
    null
);
-> at com.sistemariegoagoteo.sistema_riego_goteo_api.service.riego.FertilizationService.deleteFertilization(FertilizationService.java:83)

	at com.sistemariegoagoteo.sistema_riego_goteo_api.service.audit.AuditService.logChange(AuditService.java:46)
	at com.sistemariegoagoteo.sistema_riego_goteo_api.service.riego.FertilizationServiceTest.deleteFertilization_Success(FertilizationServiceTest.java:120)
	at java.base/java.lang.reflect.Method.invoke(Method.java:578)
	at java.base/java.util.ArrayList.forEach(ArrayList.java:1511)
	at java.base/java.util.ArrayList.forEach(ArrayList.java:1511)

[INFO] Running com.sistemariegoagoteo.sistema_riego_goteo_api.service.riego.HumiditySensorServiceTest
2026-02-27T20:38:47.138-03:00  INFO 24960 --- [           main] c.s.s.s.riego.HumiditySensorService      : Actualizando sensor de humedad ID 1
2026-02-27T20:38:47.142-03:00  INFO 24960 --- [           main] c.s.s.s.riego.HumiditySensorService      : Creando sensor de humedad tipo 'SONDA' para sector ID 1
2026-02-27T20:38:47.146-03:00  WARN 24960 --- [           main] c.s.s.s.riego.HumiditySensorService      : Eliminando sensor de humedad ID 1
[ERROR] Tests run: 3, Failures: 3, Errors: 0, Skipped: 0, Time elapsed: 0.074 s <<< FAILURE! -- in com.sistemariegoagoteo.sistema_riego_goteo_api.service.riego.HumiditySensorServiceTest
[ERROR] com.sistemariegoagoteo.sistema_riego_goteo_api.service.riego.HumiditySensorServiceTest.updateHumiditySensor_Success -- Time elapsed: 0.065 s <<< FAILURE!
Argument(s) are different! Wanted:
auditService.logChange(
    com.sistemariegoagoteo.sistema_riego_goteo_api.model.user.User@4eff65ce,
    "UPDATE",
    "HumiditySensor",
    <any string>,
    <any string>,
    <any string>
);
-> at com.sistemariegoagoteo.sistema_riego_goteo_api.service.audit.AuditService.logChange(AuditService.java:46)
Actual invocations have different arguments at position [0]:
auditService.logChange(
    com.sistemariegoagoteo.sistema_riego_goteo_api.model.user.User@39000894,
    "UPDATE",
    "HumiditySensor",
    "sensorType",
    "TENSIOMETRO",
    "SONDA"
);
-> at com.sistemariegoagoteo.sistema_riego_goteo_api.service.riego.HumiditySensorService.updateHumiditySensor(HumiditySensorService.java:58)

	at com.sistemariegoagoteo.sistema_riego_goteo_api.service.audit.AuditService.logChange(AuditService.java:46)
	at com.sistemariegoagoteo.sistema_riego_goteo_api.service.riego.HumiditySensorServiceTest.updateHumiditySensor_Success(HumiditySensorServiceTest.java:111)
	at java.base/java.lang.reflect.Method.invoke(Method.java:578)
	at java.base/java.util.ArrayList.forEach(ArrayList.java:1511)
	at java.base/java.util.ArrayList.forEach(ArrayList.java:1511)

[ERROR] com.sistemariegoagoteo.sistema_riego_goteo_api.service.riego.HumiditySensorServiceTest.createHumiditySensor_Success -- Time elapsed: 0.004 s <<< FAILURE!
Argument(s) are different! Wanted:
auditService.logChange(
    com.sistemariegoagoteo.sistema_riego_goteo_api.model.user.User@78405f00,
    "CREATE",
    "HumiditySensor",
    "sensorType",
    isNull(),
    "SONDA"
);
-> at com.sistemariegoagoteo.sistema_riego_goteo_api.service.audit.AuditService.logChange(AuditService.java:46)
Actual invocations have different arguments at position [0]:
auditService.logChange(
    com.sistemariegoagoteo.sistema_riego_goteo_api.model.user.User@39000894,
    "CREATE",
    "HumiditySensor",
    "sensorType",
    null,
    "SONDA"
);
-> at com.sistemariegoagoteo.sistema_riego_goteo_api.service.riego.HumiditySensorService.createHumiditySensor(HumiditySensorService.java:45)

	at com.sistemariegoagoteo.sistema_riego_goteo_api.service.audit.AuditService.logChange(AuditService.java:46)
	at com.sistemariegoagoteo.sistema_riego_goteo_api.service.riego.HumiditySensorServiceTest.createHumiditySensor_Success(HumiditySensorServiceTest.java:94)
	at java.base/java.lang.reflect.Method.invoke(Method.java:578)
	at java.base/java.util.ArrayList.forEach(ArrayList.java:1511)
	at java.base/java.util.ArrayList.forEach(ArrayList.java:1511)

[ERROR] com.sistemariegoagoteo.sistema_riego_goteo_api.service.riego.HumiditySensorServiceTest.deleteHumiditySensor_Success -- Time elapsed: 0.004 s <<< FAILURE!
Argument(s) are different! Wanted:
auditService.logChange(
    com.sistemariegoagoteo.sistema_riego_goteo_api.model.user.User@1548dc37,
    "DELETE",
    "HumiditySensor",
    "id",
    "1",
    isNull()
);
-> at com.sistemariegoagoteo.sistema_riego_goteo_api.service.audit.AuditService.logChange(AuditService.java:46)
Actual invocations have different arguments at position [0]:
auditService.logChange(
    com.sistemariegoagoteo.sistema_riego_goteo_api.model.user.User@39000894,
    "DELETE",
    "HumiditySensor",
    "id",
    "1",
    null
);
-> at com.sistemariegoagoteo.sistema_riego_goteo_api.service.riego.HumiditySensorService.deleteHumiditySensor(HumiditySensorService.java:81)

	at com.sistemariegoagoteo.sistema_riego_goteo_api.service.audit.AuditService.logChange(AuditService.java:46)
	at com.sistemariegoagoteo.sistema_riego_goteo_api.service.riego.HumiditySensorServiceTest.deleteHumiditySensor_Success(HumiditySensorServiceTest.java:122)
	at java.base/java.lang.reflect.Method.invoke(Method.java:578)
	at java.base/java.util.ArrayList.forEach(ArrayList.java:1511)
	at java.base/java.util.ArrayList.forEach(ArrayList.java:1511)

[INFO] Running IrrigationService - Tests Unitarios
2026-02-27T20:38:47.165-03:00  INFO 24960 --- [           main] c.s.s.service.riego.IrrigationService    : Usuario admin registr? un nuevo riego (ID: 1000) para el sector Sector Norte
2026-02-27T20:38:47.180-03:00  WARN 24960 --- [           main] c.s.s.service.riego.IrrigationService    : Eliminando registro de riego ID 1000
[INFO] Tests run: 7, Failures: 0, Errors: 0, Skipped: 0, Time elapsed: 0.031 s -- in IrrigationService - Tests Unitarios
[INFO] Running com.sistemariegoagoteo.sistema_riego_goteo_api.service.riego.PrecipitationServiceTest
2026-02-27T20:38:47.192-03:00  INFO 24960 --- [           main] c.s.s.s.riego.PrecipitationService       : Registrando precipitaci?n para finca ID 1 en fecha 2026-02-28: 15.50mm total, 7.88mm efectiva
2026-02-27T20:38:47.196-03:00  INFO 24960 --- [           main] c.s.s.s.riego.PrecipitationService       : Registrando precipitaci?n para finca ID 1 en fecha 2026-02-28: 4.00mm total, 0.00mm efectiva
2026-02-27T20:38:47.201-03:00  INFO 24960 --- [           main] c.s.s.s.riego.PrecipitationService       : Actualizando precipitaci?n ID 1: 12.00mm total, 5.25mm efectiva
2026-02-27T20:38:47.205-03:00  WARN 24960 --- [           main] c.s.s.s.riego.PrecipitationService       : Eliminando precipitaci?n ID 1
[ERROR] Tests run: 4, Failures: 3, Errors: 0, Skipped: 0, Time elapsed: 0.023 s <<< FAILURE! -- in com.sistemariegoagoteo.sistema_riego_goteo_api.service.riego.PrecipitationServiceTest
[ERROR] com.sistemariegoagoteo.sistema_riego_goteo_api.service.riego.PrecipitationServiceTest.createPrecipitation_Success_EffectiveRainCalculated -- Time elapsed: 0.008 s <<< FAILURE!
Argument(s) are different! Wanted:
auditService.logChange(
    com.sistemariegoagoteo.sistema_riego_goteo_api.model.user.User@45add64c,
    "CREATE",
    "Precipitation",
    "mmRain",
    isNull(),
    "15.50"
);
-> at com.sistemariegoagoteo.sistema_riego_goteo_api.service.audit.AuditService.logChange(AuditService.java:46)
Actual invocations have different arguments at position [0]:
auditService.logChange(
    com.sistemariegoagoteo.sistema_riego_goteo_api.model.user.User@b0bd567,
    "CREATE",
    "Precipitation",
    "mmRain",
    null,
    "15.50"
);
-> at com.sistemariegoagoteo.sistema_riego_goteo_api.service.riego.PrecipitationService.createPrecipitation(PrecipitationService.java:52)

	at com.sistemariegoagoteo.sistema_riego_goteo_api.service.audit.AuditService.logChange(AuditService.java:46)
	at com.sistemariegoagoteo.sistema_riego_goteo_api.service.riego.PrecipitationServiceTest.createPrecipitation_Success_EffectiveRainCalculated(PrecipitationServiceTest.java:98)
	at java.base/java.lang.reflect.Method.invoke(Method.java:578)
	at java.base/java.util.ArrayList.forEach(ArrayList.java:1511)
	at java.base/java.util.ArrayList.forEach(ArrayList.java:1511)

[ERROR] com.sistemariegoagoteo.sistema_riego_goteo_api.service.riego.PrecipitationServiceTest.updatePrecipitation_Success -- Time elapsed: 0.005 s <<< FAILURE!
Argument(s) are different! Wanted:
auditService.logChange(
    com.sistemariegoagoteo.sistema_riego_goteo_api.model.user.User@505e8d48,
    "UPDATE",
    "Precipitation",
    "mmRain",
    "10.00",
    "12.00"
);
-> at com.sistemariegoagoteo.sistema_riego_goteo_api.service.audit.AuditService.logChange(AuditService.java:46)
Actual invocations have different arguments at position [0]:
auditService.logChange(
    com.sistemariegoagoteo.sistema_riego_goteo_api.model.user.User@b0bd567,
    "UPDATE",
    "Precipitation",
    "mmRain",
    "10.00",
    "12.00"
);
-> at com.sistemariegoagoteo.sistema_riego_goteo_api.service.riego.PrecipitationService.updatePrecipitation(PrecipitationService.java:72)

	at com.sistemariegoagoteo.sistema_riego_goteo_api.service.audit.AuditService.logChange(AuditService.java:46)
	at com.sistemariegoagoteo.sistema_riego_goteo_api.service.riego.PrecipitationServiceTest.updatePrecipitation_Success(PrecipitationServiceTest.java:132)
	at java.base/java.lang.reflect.Method.invoke(Method.java:578)
	at java.base/java.util.ArrayList.forEach(ArrayList.java:1511)
	at java.base/java.util.ArrayList.forEach(ArrayList.java:1511)

[ERROR] com.sistemariegoagoteo.sistema_riego_goteo_api.service.riego.PrecipitationServiceTest.deletePrecipitation_Success -- Time elapsed: 0.003 s <<< FAILURE!
Argument(s) are different! Wanted:
auditService.logChange(
    com.sistemariegoagoteo.sistema_riego_goteo_api.model.user.User@12e5f7cb,
    "DELETE",
    "Precipitation",
    "id",
    "1",
    isNull()
);
-> at com.sistemariegoagoteo.sistema_riego_goteo_api.service.audit.AuditService.logChange(AuditService.java:46)
Actual invocations have different arguments at position [0]:
auditService.logChange(
    com.sistemariegoagoteo.sistema_riego_goteo_api.model.user.User@b0bd567,
    "DELETE",
    "Precipitation",
    "id",
    "1",
    null
);
-> at com.sistemariegoagoteo.sistema_riego_goteo_api.service.riego.PrecipitationService.deletePrecipitation(PrecipitationService.java:91)

	at com.sistemariegoagoteo.sistema_riego_goteo_api.service.audit.AuditService.logChange(AuditService.java:46)
	at com.sistemariegoagoteo.sistema_riego_goteo_api.service.riego.PrecipitationServiceTest.deletePrecipitation_Success(PrecipitationServiceTest.java:143)
	at java.base/java.lang.reflect.Method.invoke(Method.java:578)
	at java.base/java.util.ArrayList.forEach(ArrayList.java:1511)
	at java.base/java.util.ArrayList.forEach(ArrayList.java:1511)

[INFO] Running com.sistemariegoagoteo.sistema_riego_goteo_api.service.riego.ReservoirTurnServiceTest
2026-02-27T20:38:47.352-03:00  WARN 24960 --- [           main] c.s.s.s.riego.ReservoirTurnService       : Eliminando turno de embalse ID 1
2026-02-27T20:38:47.358-03:00  INFO 24960 --- [           main] c.s.s.s.riego.ReservoirTurnService       : Creando turno de embalse para fuente de agua ID 1 desde Sat Feb 28 20:38:47 ART 2026 hasta Sat Feb 28 22:38:47 ART 2026
2026-02-27T20:38:47.372-03:00  INFO 24960 --- [           main] c.s.s.s.riego.ReservoirTurnService       : Actualizando turno de embalse ID 1
[ERROR] Tests run: 5, Failures: 3, Errors: 0, Skipped: 0, Time elapsed: 0.158 s <<< FAILURE! -- in com.sistemariegoagoteo.sistema_riego_goteo_api.service.riego.ReservoirTurnServiceTest
[ERROR] com.sistemariegoagoteo.sistema_riego_goteo_api.service.riego.ReservoirTurnServiceTest.deleteReservoirTurn_Success -- Time elapsed: 0.137 s <<< FAILURE!
Argument(s) are different! Wanted:
auditService.logChange(
    com.sistemariegoagoteo.sistema_riego_goteo_api.model.user.User@757bbd02,
    "DELETE",
    "ReservoirTurn",
    "id",
    "1",
    isNull()
);
-> at com.sistemariegoagoteo.sistema_riego_goteo_api.service.audit.AuditService.logChange(AuditService.java:46)
Actual invocations have different arguments at position [0]:
auditService.logChange(
    com.sistemariegoagoteo.sistema_riego_goteo_api.model.user.User@b0bd567,
    "DELETE",
    "ReservoirTurn",
    "id",
    "1",
    null
);
-> at com.sistemariegoagoteo.sistema_riego_goteo_api.service.riego.ReservoirTurnService.deleteReservoirTurn(ReservoirTurnService.java:90)

	at com.sistemariegoagoteo.sistema_riego_goteo_api.service.audit.AuditService.logChange(AuditService.java:46)
	at com.sistemariegoagoteo.sistema_riego_goteo_api.service.riego.ReservoirTurnServiceTest.deleteReservoirTurn_Success(ReservoirTurnServiceTest.java:153)
	at java.base/java.lang.reflect.Method.invoke(Method.java:578)
	at java.base/java.util.ArrayList.forEach(ArrayList.java:1511)
	at java.base/java.util.ArrayList.forEach(ArrayList.java:1511)

[ERROR] com.sistemariegoagoteo.sistema_riego_goteo_api.service.riego.ReservoirTurnServiceTest.createReservoirTurn_Success -- Time elapsed: 0.005 s <<< FAILURE!
Argument(s) are different! Wanted:
auditService.logChange(
    com.sistemariegoagoteo.sistema_riego_goteo_api.model.user.User@7dbf92aa,
    "CREATE",
    "ReservoirTurn",
    "id",
    isNull(),
    "2"
);
-> at com.sistemariegoagoteo.sistema_riego_goteo_api.service.audit.AuditService.logChange(AuditService.java:46)
Actual invocations have different arguments at position [0]:
auditService.logChange(
    com.sistemariegoagoteo.sistema_riego_goteo_api.model.user.User@b0bd567,
    "CREATE",
    "ReservoirTurn",
    "id",
    null,
    "2"
);
-> at com.sistemariegoagoteo.sistema_riego_goteo_api.service.riego.ReservoirTurnService.createReservoirTurn(ReservoirTurnService.java:53)

	at com.sistemariegoagoteo.sistema_riego_goteo_api.service.audit.AuditService.logChange(AuditService.java:46)
	at com.sistemariegoagoteo.sistema_riego_goteo_api.service.riego.ReservoirTurnServiceTest.createReservoirTurn_Success(ReservoirTurnServiceTest.java:106)
	at java.base/java.lang.reflect.Method.invoke(Method.java:578)
	at java.base/java.util.ArrayList.forEach(ArrayList.java:1511)
	at java.base/java.util.ArrayList.forEach(ArrayList.java:1511)

[ERROR] com.sistemariegoagoteo.sistema_riego_goteo_api.service.riego.ReservoirTurnServiceTest.updateReservoirTurn_Success -- Time elapsed: 0.004 s <<< FAILURE!
Argument(s) are different! Wanted:
auditService.logChange(
    com.sistemariegoagoteo.sistema_riego_goteo_api.model.user.User@2bac4423,
    "UPDATE",
    "ReservoirTurn",
    <any string>,
    <any string>,
    <any string>
);
-> at com.sistemariegoagoteo.sistema_riego_goteo_api.service.audit.AuditService.logChange(AuditService.java:46)
Actual invocations have different arguments at position [0]:
auditService.logChange(
    com.sistemariegoagoteo.sistema_riego_goteo_api.model.user.User@b0bd567,
    "UPDATE",
    "ReservoirTurn",
    "startDatetime",
    "Fri Feb 27 20:38:47 ART 2026",
    "Fri Feb 27 21:38:47 ART 2026"
);
-> at com.sistemariegoagoteo.sistema_riego_goteo_api.service.riego.ReservoirTurnService.updateReservoirTurn(ReservoirTurnService.java:67)
auditService.logChange(
    com.sistemariegoagoteo.sistema_riego_goteo_api.model.user.User@b0bd567,
    "UPDATE",
    "ReservoirTurn",
    "endDatetime",
    "Sat Feb 28 00:38:47 ART 2026",
    "Sat Feb 28 01:38:47 ART 2026"
);
-> at com.sistemariegoagoteo.sistema_riego_goteo_api.service.riego.ReservoirTurnService.updateReservoirTurn(ReservoirTurnService.java:70)

	at com.sistemariegoagoteo.sistema_riego_goteo_api.service.audit.AuditService.logChange(AuditService.java:46)
	at com.sistemariegoagoteo.sistema_riego_goteo_api.service.riego.ReservoirTurnServiceTest.updateReservoirTurn_Success(ReservoirTurnServiceTest.java:142)
	at java.base/java.lang.reflect.Method.invoke(Method.java:578)
	at java.base/java.util.ArrayList.forEach(ArrayList.java:1511)
	at java.base/java.util.ArrayList.forEach(ArrayList.java:1511)

[INFO] Running SectorService - Tests Unitarios
2026-02-27T20:38:47.390-03:00  WARN 24960 --- [           main] c.s.s.service.riego.SectorService        : Eliminando sector ID 100 de la finca ID 1
2026-02-27T20:38:47.400-03:00  INFO 24960 --- [           main] c.s.s.service.riego.SectorService        : Creando sector 'Sector Norte' para la finca ID 1
[INFO] Tests run: 7, Failures: 0, Errors: 0, Skipped: 0, Time elapsed: 0.027 s -- in SectorService - Tests Unitarios
[INFO] Running com.sistemariegoagoteo.sistema_riego_goteo_api.service.riego.WaterSourceServiceTest
2026-02-27T20:38:47.416-03:00  INFO 24960 --- [           main] c.s.s.service.riego.WaterSourceService   : Creando fuente de agua tipo 'REPRESA' para finca ID 1
2026-02-27T20:38:47.423-03:00  INFO 24960 --- [           main] c.s.s.service.riego.WaterSourceService   : Actualizando fuente de agua ID 1
2026-02-27T20:38:47.433-03:00  WARN 24960 --- [           main] c.s.s.service.riego.WaterSourceService   : Eliminando fuente de agua ID 1
[ERROR] Tests run: 5, Failures: 3, Errors: 0, Skipped: 0, Time elapsed: 0.026 s <<< FAILURE! -- in com.sistemariegoagoteo.sistema_riego_goteo_api.service.riego.WaterSourceServiceTest
[ERROR] com.sistemariegoagoteo.sistema_riego_goteo_api.service.riego.WaterSourceServiceTest.createWaterSource_Success -- Time elapsed: 0.007 s <<< FAILURE!
Argument(s) are different! Wanted:
auditService.logChange(
    com.sistemariegoagoteo.sistema_riego_goteo_api.model.user.User@659f5f32,
    "CREATE",
    "WaterSource",
    "type",
    isNull(),
    "REPRESA"
);
-> at com.sistemariegoagoteo.sistema_riego_goteo_api.service.audit.AuditService.logChange(AuditService.java:46)
Actual invocations have different arguments at position [0]:
auditService.logChange(
    com.sistemariegoagoteo.sistema_riego_goteo_api.model.user.User@20fdd484,
    "CREATE",
    "WaterSource",
    "type",
    null,
    "REPRESA"
);
-> at com.sistemariegoagoteo.sistema_riego_goteo_api.service.riego.WaterSourceService.createWaterSource(WaterSourceService.java:47)

	at com.sistemariegoagoteo.sistema_riego_goteo_api.service.audit.AuditService.logChange(AuditService.java:46)
	at com.sistemariegoagoteo.sistema_riego_goteo_api.service.riego.WaterSourceServiceTest.createWaterSource_Success(WaterSourceServiceTest.java:83)
	at java.base/java.lang.reflect.Method.invoke(Method.java:578)
	at java.base/java.util.ArrayList.forEach(ArrayList.java:1511)
	at java.base/java.util.ArrayList.forEach(ArrayList.java:1511)

[ERROR] com.sistemariegoagoteo.sistema_riego_goteo_api.service.riego.WaterSourceServiceTest.updateWaterSource_Success -- Time elapsed: 0.006 s <<< FAILURE!
Argument(s) are different! Wanted:
auditService.logChange(
    com.sistemariegoagoteo.sistema_riego_goteo_api.model.user.User@65a86de0,
    "UPDATE",
    "WaterSource",
    "type",
    "POZO",
    "CANAL"
);
-> at com.sistemariegoagoteo.sistema_riego_goteo_api.service.audit.AuditService.logChange(AuditService.java:46)
Actual invocations have different arguments at position [0]:
auditService.logChange(
    com.sistemariegoagoteo.sistema_riego_goteo_api.model.user.User@20fdd484,
    "UPDATE",
    "WaterSource",
    "type",
    "POZO",
    "CANAL"
);
-> at com.sistemariegoagoteo.sistema_riego_goteo_api.service.riego.WaterSourceService.updateWaterSource(WaterSourceService.java:60)

	at com.sistemariegoagoteo.sistema_riego_goteo_api.service.audit.AuditService.logChange(AuditService.java:46)
	at com.sistemariegoagoteo.sistema_riego_goteo_api.service.riego.WaterSourceServiceTest.updateWaterSource_Success(WaterSourceServiceTest.java:112)
	at java.base/java.lang.reflect.Method.invoke(Method.java:578)
	at java.base/java.util.ArrayList.forEach(ArrayList.java:1511)
	at java.base/java.util.ArrayList.forEach(ArrayList.java:1511)

[ERROR] com.sistemariegoagoteo.sistema_riego_goteo_api.service.riego.WaterSourceServiceTest.deleteWaterSource_Success -- Time elapsed: 0.004 s <<< FAILURE!
Argument(s) are different! Wanted:
auditService.logChange(
    com.sistemariegoagoteo.sistema_riego_goteo_api.model.user.User@17fd9fbb,
    "DELETE",
    "WaterSource",
    "id",
    "1",
    isNull()
);
-> at com.sistemariegoagoteo.sistema_riego_goteo_api.service.audit.AuditService.logChange(AuditService.java:46)
Actual invocations have different arguments at position [0]:
auditService.logChange(
    com.sistemariegoagoteo.sistema_riego_goteo_api.model.user.User@20fdd484,
    "DELETE",
    "WaterSource",
    "id",
    "1",
    null
);
-> at com.sistemariegoagoteo.sistema_riego_goteo_api.service.riego.WaterSourceService.deleteWaterSource(WaterSourceService.java:83)

	at com.sistemariegoagoteo.sistema_riego_goteo_api.service.audit.AuditService.logChange(AuditService.java:46)
	at com.sistemariegoagoteo.sistema_riego_goteo_api.service.riego.WaterSourceServiceTest.deleteWaterSource_Success(WaterSourceServiceTest.java:123)
	at java.base/java.lang.reflect.Method.invoke(Method.java:578)
	at java.base/java.util.ArrayList.forEach(ArrayList.java:1511)
	at java.base/java.util.ArrayList.forEach(ArrayList.java:1511)

[INFO] Running com.sistemariegoagoteo.sistema_riego_goteo_api.service.sync.MobileSyncServiceTest
2026-02-27T20:38:47.457-03:00  INFO 24960 --- [           main] c.s.s.service.sync.MobileSyncService     : Se han guardado/actualizado 1 registros de riego en lote.
2026-02-27T20:38:47.461-03:00 ERROR 24960 --- [           main] c.s.s.service.sync.MobileSyncService     : Error procesando item m?vil local-invalid: El equipo 2 no pertenece a la finca del sector.
[INFO] Tests run: 3, Failures: 0, Errors: 0, Skipped: 0, Time elapsed: 0.023 s -- in com.sistemariegoagoteo.sistema_riego_goteo_api.service.sync.MobileSyncServiceTest
[INFO] Running com.sistemariegoagoteo.sistema_riego_goteo_api.service.weather.WeatherServiceTest
[INFO] Tests run: 2, Failures: 0, Errors: 0, Skipped: 0, Time elapsed: 0.118 s -- in com.sistemariegoagoteo.sistema_riego_goteo_api.service.weather.WeatherServiceTest
[INFO] Running com.sistemariegoagoteo.sistema_riego_goteo_api.SistemaRiegoGoteoApiApplicationTests

  .   ____          _            __ _ _
 /\\ / ___'_ __ _ _(_)_ __  __ _ \ \ \ \
( ( )\___ | '_ | '_| | '_ \/ _` | \ \ \ \
 \\/  ___)| |_)| | | | | || (_| |  ) ) ) )
  '  |____| .__|_| |_|_| |_\__, | / / / /
 =========|_|==============|___/=/_/_/_/

 :: Spring Boot ::               (v3.4.10)

2026-02-27T20:38:47.701-03:00  INFO 24960 --- [           main] s.s.SistemaRiegoGoteoApiApplicationTests : Starting SistemaRiegoGoteoApiApplicationTests using Java 20.0.2 with PID 24960 (started by elian in C:\Users\elian\OneDrive\Documentos\0-Tecnicatura Desarrollo de software\3-Tercer A?o Desarrollo De Software\Practica Profesionalizante 3\software\sistema-riego-goteo-api)
2026-02-27T20:38:47.701-03:00  INFO 24960 --- [           main] s.s.SistemaRiegoGoteoApiApplicationTests : The following 1 profile is active: "test"
2026-02-27T20:38:49.755-03:00  WARN 24960 --- [           main] org.hibernate.orm.deprecation            : HHH90000025: H2Dialect does not need to be specified explicitly using 'hibernate.dialect' (remove the property setting and it will be selected by default)
2026-02-27T20:38:53.768-03:00  INFO 24960 --- [           main] eAuthenticationProviderManagerConfigurer : Global AuthenticationManager configured with AuthenticationProvider bean with name authenticationProvider
2026-02-27T20:38:53.769-03:00  WARN 24960 --- [           main] r$InitializeUserDetailsManagerConfigurer : Global AuthenticationManager configured with an AuthenticationProvider bean. UserDetailsService beans will not be used by Spring Security for automatically configuring username/password login. Consider removing the AuthenticationProvider bean. Alternatively, consider using the UserDetailsService in a manually instantiated DaoAuthenticationProvider. If the current configuration is intentional, to turn off this warning, increase the logging level of 'org.springframework.security.config.annotation.authentication.configuration.InitializeUserDetailsBeanManagerConfigurer' to ERROR
2026-02-27T20:38:54.478-03:00  WARN 24960 --- [           main] JpaBaseConfiguration$JpaWebConfiguration : spring.jpa.open-in-view is enabled by default. Therefore, database queries may be performed during view rendering. Explicitly configure spring.jpa.open-in-view to disable this warning
2026-02-27T20:38:54.595-03:00 DEBUG 24960 --- [           main] o.s.s.web.DefaultSecurityFilterChain     : Will secure any request with filters: DisableEncodeUrlFilter, WebAsyncManagerIntegrationFilter, SecurityContextHolderFilter, HeaderWriterFilter, CorsFilter, LogoutFilter, JwtAuthenticationFilter, RequestCacheAwareFilter, SecurityContextHolderAwareRequestFilter, AnonymousAuthenticationFilter, SessionManagementFilter, ExceptionTranslationFilter, AuthorizationFilter
2026-02-27T20:38:54.846-03:00  INFO 24960 --- [           main] s.s.SistemaRiegoGoteoApiApplicationTests : Started SistemaRiegoGoteoApiApplicationTests in 7.183 seconds (process running for 18.433)
2026-02-27T20:38:54.861-03:00  INFO 24960 --- [   scheduling-1] c.s.s.scheduler.WeatherScheduler         : Ejecutando tarea programada: Verificando pron?stico de lluvia...
2026-02-27T20:38:54.865-03:00  INFO 24960 --- [           main] c.s.s.config.seeder.SystemConfigSeeder   : Iniciando SystemConfigSeeder...
2026-02-27T20:38:55.015-03:00  INFO 24960 --- [           main] c.s.s.config.seeder.SystemConfigSeeder   : SystemConfigSeeder finalizado. Insertados 22 registros en system_config.
2026-02-27T20:38:55.047-03:00  INFO 24960 --- [           main] c.s.s.config.DataInitializer             : Iniciando verificaci?n e inicializaci?n de roles esenciales...
2026-02-27T20:38:55.088-03:00  INFO 24960 --- [           main] c.s.s.config.DataInitializer             : Rol 'ADMIN' creado exitosamente.
2026-02-27T20:38:55.094-03:00  INFO 24960 --- [           main] c.s.s.config.DataInitializer             : Rol 'ANALISTA' creado exitosamente.
2026-02-27T20:38:55.097-03:00  INFO 24960 --- [           main] c.s.s.config.DataInitializer             : Rol 'OPERARIO' creado exitosamente.
2026-02-27T20:38:55.097-03:00  INFO 24960 --- [           main] c.s.s.config.DataInitializer             : Verificaci?n e inicializaci?n de roles completada.
2026-02-27T20:38:55.177-03:00  INFO 24960 --- [           main] c.s.s.config.DataInitializer             : Usuario administrador por defecto 'admin' creado.
[INFO] Tests run: 1, Failures: 0, Errors: 0, Skipped: 0, Time elapsed: 7.610 s -- in com.sistemariegoagoteo.sistema_riego_goteo_api.SistemaRiegoGoteoApiApplicationTests
[INFO] 
[INFO] Results:
[INFO] 
[ERROR] Failures: 
[ERROR]   FertilizationServiceTest.createFertilization_Success:92 
Argument(s) are different! Wanted:
auditService.logChange(
    com.sistemariegoagoteo.sistema_riego_goteo_api.model.user.User@72f86029,
    "CREATE",
    "Fertilization",
    "id",
    isNull(),
    "2"
);
-> at com.sistemariegoagoteo.sistema_riego_goteo_api.service.audit.AuditService.logChange(AuditService.java:46)
Actual invocations have different arguments at position [0]:
auditService.logChange(
    com.sistemariegoagoteo.sistema_riego_goteo_api.model.user.User@39000894,
    "CREATE",
    "Fertilization",
    "id",
    null,
    "2"
);
-> at com.sistemariegoagoteo.sistema_riego_goteo_api.service.riego.FertilizationService.createFertilization(FertilizationService.java:46)

[ERROR]   FertilizationServiceTest.deleteFertilization_Success:120 
Argument(s) are different! Wanted:
auditService.logChange(
    com.sistemariegoagoteo.sistema_riego_goteo_api.model.user.User@124b1369,
    "DELETE",
    "Fertilization",
    "id",
    "1",
    isNull()
);
-> at com.sistemariegoagoteo.sistema_riego_goteo_api.service.audit.AuditService.logChange(AuditService.java:46)
Actual invocations have different arguments at position [0]:
auditService.logChange(
    com.sistemariegoagoteo.sistema_riego_goteo_api.model.user.User@39000894,
    "DELETE",
    "Fertilization",
    "id",
    "1",
    null
);
-> at com.sistemariegoagoteo.sistema_riego_goteo_api.service.riego.FertilizationService.deleteFertilization(FertilizationService.java:83)

[ERROR]   FertilizationServiceTest.updateFertilization_Success:109 
Argument(s) are different! Wanted:
auditService.logChange(
    com.sistemariegoagoteo.sistema_riego_goteo_api.model.user.User@5a85f41b,
    "UPDATE",
    "Fertilization",
    <any string>,
    <any string>,
    <any string>
);
-> at com.sistemariegoagoteo.sistema_riego_goteo_api.service.audit.AuditService.logChange(AuditService.java:46)
Actual invocations have different arguments at position [0]:
auditService.logChange(
    com.sistemariegoagoteo.sistema_riego_goteo_api.model.user.User@39000894,
    "UPDATE",
    "Fertilization",
    "quantity",
    "50.0",
    "60.0"
);
-> at com.sistemariegoagoteo.sistema_riego_goteo_api.service.riego.FertilizationService.updateFertilization(FertilizationService.java:67)

[ERROR]   HumiditySensorServiceTest.createHumiditySensor_Success:94 
Argument(s) are different! Wanted:
auditService.logChange(
    com.sistemariegoagoteo.sistema_riego_goteo_api.model.user.User@78405f00,
    "CREATE",
    "HumiditySensor",
    "sensorType",
    isNull(),
    "SONDA"
);
-> at com.sistemariegoagoteo.sistema_riego_goteo_api.service.audit.AuditService.logChange(AuditService.java:46)
Actual invocations have different arguments at position [0]:
auditService.logChange(
    com.sistemariegoagoteo.sistema_riego_goteo_api.model.user.User@39000894,
    "CREATE",
    "HumiditySensor",
    "sensorType",
    null,
    "SONDA"
);
-> at com.sistemariegoagoteo.sistema_riego_goteo_api.service.riego.HumiditySensorService.createHumiditySensor(HumiditySensorService.java:45)

[ERROR]   HumiditySensorServiceTest.deleteHumiditySensor_Success:122 
Argument(s) are different! Wanted:
auditService.logChange(
    com.sistemariegoagoteo.sistema_riego_goteo_api.model.user.User@1548dc37,
    "DELETE",
    "HumiditySensor",
    "id",
    "1",
    isNull()
);
-> at com.sistemariegoagoteo.sistema_riego_goteo_api.service.audit.AuditService.logChange(AuditService.java:46)
Actual invocations have different arguments at position [0]:
auditService.logChange(
    com.sistemariegoagoteo.sistema_riego_goteo_api.model.user.User@39000894,
    "DELETE",
    "HumiditySensor",
    "id",
    "1",
    null
);
-> at com.sistemariegoagoteo.sistema_riego_goteo_api.service.riego.HumiditySensorService.deleteHumiditySensor(HumiditySensorService.java:81)

[ERROR]   HumiditySensorServiceTest.updateHumiditySensor_Success:111 
Argument(s) are different! Wanted:
auditService.logChange(
    com.sistemariegoagoteo.sistema_riego_goteo_api.model.user.User@4eff65ce,
    "UPDATE",
    "HumiditySensor",
    <any string>,
    <any string>,
    <any string>
);
-> at com.sistemariegoagoteo.sistema_riego_goteo_api.service.audit.AuditService.logChange(AuditService.java:46)
Actual invocations have different arguments at position [0]:
auditService.logChange(
    com.sistemariegoagoteo.sistema_riego_goteo_api.model.user.User@39000894,
    "UPDATE",
    "HumiditySensor",
    "sensorType",
    "TENSIOMETRO",
    "SONDA"
);
-> at com.sistemariegoagoteo.sistema_riego_goteo_api.service.riego.HumiditySensorService.updateHumiditySensor(HumiditySensorService.java:58)

[ERROR]   PrecipitationServiceTest.createPrecipitation_Success_EffectiveRainCalculated:98 
Argument(s) are different! Wanted:
auditService.logChange(
    com.sistemariegoagoteo.sistema_riego_goteo_api.model.user.User@45add64c,
    "CREATE",
    "Precipitation",
    "mmRain",
    isNull(),
    "15.50"
);
-> at com.sistemariegoagoteo.sistema_riego_goteo_api.service.audit.AuditService.logChange(AuditService.java:46)
Actual invocations have different arguments at position [0]:
auditService.logChange(
    com.sistemariegoagoteo.sistema_riego_goteo_api.model.user.User@b0bd567,
    "CREATE",
    "Precipitation",
    "mmRain",
    null,
    "15.50"
);
-> at com.sistemariegoagoteo.sistema_riego_goteo_api.service.riego.PrecipitationService.createPrecipitation(PrecipitationService.java:52)

[ERROR]   PrecipitationServiceTest.deletePrecipitation_Success:143 
Argument(s) are different! Wanted:
auditService.logChange(
    com.sistemariegoagoteo.sistema_riego_goteo_api.model.user.User@12e5f7cb,
    "DELETE",
    "Precipitation",
    "id",
    "1",
    isNull()
);
-> at com.sistemariegoagoteo.sistema_riego_goteo_api.service.audit.AuditService.logChange(AuditService.java:46)
Actual invocations have different arguments at position [0]:
auditService.logChange(
    com.sistemariegoagoteo.sistema_riego_goteo_api.model.user.User@b0bd567,
    "DELETE",
    "Precipitation",
    "id",
    "1",
    null
);
-> at com.sistemariegoagoteo.sistema_riego_goteo_api.service.riego.PrecipitationService.deletePrecipitation(PrecipitationService.java:91)

[ERROR]   PrecipitationServiceTest.updatePrecipitation_Success:132 
Argument(s) are different! Wanted:
auditService.logChange(
    com.sistemariegoagoteo.sistema_riego_goteo_api.model.user.User@505e8d48,
    "UPDATE",
    "Precipitation",
    "mmRain",
    "10.00",
    "12.00"
);
-> at com.sistemariegoagoteo.sistema_riego_goteo_api.service.audit.AuditService.logChange(AuditService.java:46)
Actual invocations have different arguments at position [0]:
auditService.logChange(
    com.sistemariegoagoteo.sistema_riego_goteo_api.model.user.User@b0bd567,
    "UPDATE",
    "Precipitation",
    "mmRain",
    "10.00",
    "12.00"
);
-> at com.sistemariegoagoteo.sistema_riego_goteo_api.service.riego.PrecipitationService.updatePrecipitation(PrecipitationService.java:72)

[ERROR]   ReservoirTurnServiceTest.createReservoirTurn_Success:106 
Argument(s) are different! Wanted:
auditService.logChange(
    com.sistemariegoagoteo.sistema_riego_goteo_api.model.user.User@7dbf92aa,
    "CREATE",
    "ReservoirTurn",
    "id",
    isNull(),
    "2"
);
-> at com.sistemariegoagoteo.sistema_riego_goteo_api.service.audit.AuditService.logChange(AuditService.java:46)
Actual invocations have different arguments at position [0]:
auditService.logChange(
    com.sistemariegoagoteo.sistema_riego_goteo_api.model.user.User@b0bd567,
    "CREATE",
    "ReservoirTurn",
    "id",
    null,
    "2"
);
-> at com.sistemariegoagoteo.sistema_riego_goteo_api.service.riego.ReservoirTurnService.createReservoirTurn(ReservoirTurnService.java:53)

[ERROR]   ReservoirTurnServiceTest.deleteReservoirTurn_Success:153 
Argument(s) are different! Wanted:
auditService.logChange(
    com.sistemariegoagoteo.sistema_riego_goteo_api.model.user.User@757bbd02,
    "DELETE",
    "ReservoirTurn",
    "id",
    "1",
    isNull()
);
-> at com.sistemariegoagoteo.sistema_riego_goteo_api.service.audit.AuditService.logChange(AuditService.java:46)
Actual invocations have different arguments at position [0]:
auditService.logChange(
    com.sistemariegoagoteo.sistema_riego_goteo_api.model.user.User@b0bd567,
    "DELETE",
    "ReservoirTurn",
    "id",
    "1",
    null
);
-> at com.sistemariegoagoteo.sistema_riego_goteo_api.service.riego.ReservoirTurnService.deleteReservoirTurn(ReservoirTurnService.java:90)

[ERROR]   ReservoirTurnServiceTest.updateReservoirTurn_Success:142 
Argument(s) are different! Wanted:
auditService.logChange(
    com.sistemariegoagoteo.sistema_riego_goteo_api.model.user.User@2bac4423,
    "UPDATE",
    "ReservoirTurn",
    <any string>,
    <any string>,
    <any string>
);
-> at com.sistemariegoagoteo.sistema_riego_goteo_api.service.audit.AuditService.logChange(AuditService.java:46)
Actual invocations have different arguments at position [0]:
auditService.logChange(
    com.sistemariegoagoteo.sistema_riego_goteo_api.model.user.User@b0bd567,
    "UPDATE",
    "ReservoirTurn",
    "startDatetime",
    "Fri Feb 27 20:38:47 ART 2026",
    "Fri Feb 27 21:38:47 ART 2026"
);
-> at com.sistemariegoagoteo.sistema_riego_goteo_api.service.riego.ReservoirTurnService.updateReservoirTurn(ReservoirTurnService.java:67)
auditService.logChange(
    com.sistemariegoagoteo.sistema_riego_goteo_api.model.user.User@b0bd567,
    "UPDATE",
    "ReservoirTurn",
    "endDatetime",
    "Sat Feb 28 00:38:47 ART 2026",
    "Sat Feb 28 01:38:47 ART 2026"
);
-> at com.sistemariegoagoteo.sistema_riego_goteo_api.service.riego.ReservoirTurnService.updateReservoirTurn(ReservoirTurnService.java:70)

[ERROR]   WaterSourceServiceTest.createWaterSource_Success:83 
Argument(s) are different! Wanted:
auditService.logChange(
    com.sistemariegoagoteo.sistema_riego_goteo_api.model.user.User@659f5f32,
    "CREATE",
    "WaterSource",
    "type",
    isNull(),
    "REPRESA"
);
-> at com.sistemariegoagoteo.sistema_riego_goteo_api.service.audit.AuditService.logChange(AuditService.java:46)
Actual invocations have different arguments at position [0]:
auditService.logChange(
    com.sistemariegoagoteo.sistema_riego_goteo_api.model.user.User@20fdd484,
    "CREATE",
    "WaterSource",
    "type",
    null,
    "REPRESA"
);
-> at com.sistemariegoagoteo.sistema_riego_goteo_api.service.riego.WaterSourceService.createWaterSource(WaterSourceService.java:47)

[ERROR]   WaterSourceServiceTest.deleteWaterSource_Success:123 
Argument(s) are different! Wanted:
auditService.logChange(
    com.sistemariegoagoteo.sistema_riego_goteo_api.model.user.User@17fd9fbb,
    "DELETE",
    "WaterSource",
    "id",
    "1",
    isNull()
);
-> at com.sistemariegoagoteo.sistema_riego_goteo_api.service.audit.AuditService.logChange(AuditService.java:46)
Actual invocations have different arguments at position [0]:
auditService.logChange(
    com.sistemariegoagoteo.sistema_riego_goteo_api.model.user.User@20fdd484,
    "DELETE",
    "WaterSource",
    "id",
    "1",
    null
);
-> at com.sistemariegoagoteo.sistema_riego_goteo_api.service.riego.WaterSourceService.deleteWaterSource(WaterSourceService.java:83)

[ERROR]   WaterSourceServiceTest.updateWaterSource_Success:112 
Argument(s) are different! Wanted:
auditService.logChange(
    com.sistemariegoagoteo.sistema_riego_goteo_api.model.user.User@65a86de0,
    "UPDATE",
    "WaterSource",
    "type",
    "POZO",
    "CANAL"
);
-> at com.sistemariegoagoteo.sistema_riego_goteo_api.service.audit.AuditService.logChange(AuditService.java:46)
Actual invocations have different arguments at position [0]:
auditService.logChange(
    com.sistemariegoagoteo.sistema_riego_goteo_api.model.user.User@20fdd484,
    "UPDATE",
    "WaterSource",
    "type",
    "POZO",
    "CANAL"
);
-> at com.sistemariegoagoteo.sistema_riego_goteo_api.service.riego.WaterSourceService.updateWaterSource(WaterSourceService.java:60)

[INFO] 
[ERROR] Tests run: 102, Failures: 15, Errors: 0, Skipped: 0
[INFO] 
[INFO] ------------------------------------------------------------------------
[INFO] BUILD FAILURE
[INFO] ------------------------------------------------------------------------
[INFO] Total time:  22.357 s
[INFO] Finished at: 2026-02-27T20:38:55-03:00
[INFO] ------------------------------------------------------------------------
[ERROR] Failed to execute goal org.apache.maven.plugins:maven-surefire-plugin:3.5.4:test (default-test) on project sistema-riego-goteo-api: There are test failures.
[ERROR] 
[ERROR] See C:\Users\elian\OneDrive\Documentos\0-Tecnicatura Desarrollo de software\3-Tercer A?o Desarrollo De Software\Practica Profesionalizante 3\software\sistema-riego-goteo-api\target\surefire-reports for the individual test results.
[ERROR] See dump files (if any exist) [date].dump, [date]-jvmRun[N].dump and [date].dumpstream.
[ERROR] -> [Help 1]
[ERROR] 
[ERROR] To see the full stack trace of the errors, re-run Maven with the -e switch.
[ERROR] Re-run Maven using the -X switch to enable full debug logging.
[ERROR] 
[ERROR] For more information about the errors and possible solutions, please read the following articles:
[ERROR] [Help 1] http://cwiki.apache.org/confluence/display/MAVEN/MojoFailureException
